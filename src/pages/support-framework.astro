---
import BaseLayout from '../layouts/BaseLayout.astro';
import PageBreadcrumb from '../components/PageBreadcrumb.astro';
import { Download, Users, Bot, Wrench, AlertCircle, Check, Clock, DollarSign, Target } from 'lucide-astro';

// Navigation items
const navItems = [
  { href: "#overview", label: "Executive Summary" },
  { href: "#governance", label: "Framework Governance" },
  { href: "#tiers", label: "Support Tier Overview" },
  { href: "#process-flows", label: "Process Flow Diagrams" },
  { href: "#routing", label: "Routing Criteria & Decision Trees" },
  { href: "#ticket-fields", label: "Ticket Field Requirements" },
  { href: "#sla", label: "SLA Recommendations" },
  { href: "#implementation", label: "Implementation Checklist" }
];

// Summary cards for three-tier overview
const summaryCards = [
  { icon: Bot, title: "Tier 0: AI Self-Service", description: "Immediate assistance via chatbot and knowledge bank", stat: "40% resolution rate" },
  { icon: Users, title: "Tier 1: EdTech Team", description: "Customer success focused, user experience support", stat: "70% of escalations resolved" },
  { icon: Wrench, title: "Tier 2: IT Ops", description: "Technical infrastructure and backend systems", stat: "95% SLA compliance" }
];

// KPI metrics
const kpiMetrics = [
  "40% of issues resolved by AI (Tier 0)",
  "70% of remaining issues resolved by EdTech (Tier 1)",
  "95% SLA compliance across all tiers",
  "4.5/5.0 customer satisfaction score"
];

// Governance principles
const governancePrinciples = [
  {
    number: "01",
    title: "Open & Shareable",
    description: "Complete support process documentation freely available. No licensing fees for ticketing workflows, routing criteria, or SLA templates. Schools can copy, adapt, and share this entire three-tier support model.",
    example: "Download this framework, customize tier responsibilities for your school size, and share your adaptations with other institutions."
  },
  {
    number: "02",
    title: "Evidence-Based",
    description: "Three-tier model based on industry best practices (40% AI resolution, 70% Tier 1 resolution rates). SLA targets aligned with ITIL service management standards. Metrics proven to improve customer satisfaction (target: 4.5/5.0).",
    example: "Framework targets 95% SLA compliance across all tiers based on research showing this threshold maximizes user satisfaction while maintaining cost efficiency."
  },
  {
    number: "03",
    title: "Competency-Focused",
    description: "Tier 1 emphasizes customer success competencies (empathy, communication, user experience) over pure technical skills. Training focus on problem-solving and relationship-building, not just ticket resolution.",
    example: "EdTech team trained as customer success agents—prioritizing user experience and teaching/learning impact, not just closing tickets quickly."
  },
  {
    number: "04",
    title: "Mobile-First",
    description: "AI chatbot accessible via mobile devices for 24/7 support. Ticket submission and status tracking optimized for smartphone interfaces. Support knowledge base designed for mobile reading.",
    example: "Teachers can submit support tickets via mobile chatbot during class, receive instant AI guidance, and track resolution status—all from their smartphones."
  },
  {
    number: "05",
    title: "Culturally Responsive",
    description: "Multilingual chatbot support for top languages in your community. Ticket fields accommodate diverse naming conventions and cultural contexts. Support hours adapted to local school schedules and time zones.",
    example: "AI chatbot provides support in English, French, or local languages based on user preference, ensuring language is never a barrier to getting help."
  },
  {
    number: "06",
    title: "Cost-Conscious",
    description: "AI self-service (Tier 0) handles 40% of issues at near-zero marginal cost. Tier 1 EdTech team optimized to resolve 70% of escalations before expensive Tier 2 IT involvement. Open-source ticketing systems (Zammad, osTicket) save thousands annually.",
    example: "By resolving 40% of 10,000 annual tickets via AI at $0.50/ticket vs. $15 human cost, schools save $14,500/year on support operations."
  },
  {
    number: "07",
    title: "Implementation-Focused",
    description: "Detailed process flow diagrams, routing decision trees, and ticket field requirements. Comprehensive implementation checklist with vendor selection criteria. SLA templates ready to deploy, not theoretical guidelines.",
    example: "Framework includes exact routing criteria (\"If issue type = LMS Access AND severity = High → Route to Tier 1 within 5 minutes\") ready to configure in your ticketing system."
  }
];

// Tier details
const tierDetails = [
  {
    icon: Bot,
    title: "Tier 0: AI-Powered Self-Service",
    gradientClass: "bg-gradient-to-r from-[var(--mineral-tanzanite)] to-[var(--mineral-cobalt)]",
    purpose: "Provide instant, 24/7 support for common questions and issues",
    capabilities: [
      "Natural language understanding",
      "Knowledge bank search and article recommendations",
      "Contextual follow-up questions",
      "Ticket creation when unresolved"
    ],
    metrics: [
      "40% resolution rate without human intervention",
      "<30 seconds average response time",
      "User satisfaction >4.0/5.0 for resolved issues"
    ]
  },
  {
    icon: Users,
    title: "Tier 1: EdTech Team (Customer Success)",
    gradientClass: "bg-gradient-to-r from-[var(--mineral-terracotta)] to-[var(--mineral-gold)]",
    purpose: "Front-facing support focused on user experience, training, and platform usage",
    inScope: [
      "Account setup and onboarding",
      "Platform navigation and \"how-to\" questions",
      "Curriculum and learning platform support",
      "Parent/teacher communication tools",
      "Feature requests and feedback",
      "General troubleshooting (non-technical)",
      "Training and professional development",
      "Student engagement strategies"
    ],
    outOfScope: [
      "Backend system access",
      "Network infrastructure",
      "Hardware repairs",
      "Database/API issues",
      "Security incidents"
    ],
    team: [
      "3-5 EdTech specialists",
      "1 team lead",
      "Coverage: 7:00 AM - 6:00 PM (school days)",
      "On-call rotation for critical teacher issues"
    ]
  },
  {
    icon: Wrench,
    title: "Tier 2: IT Ops (Technical Support)",
    gradientClass: "bg-gradient-to-r from-[var(--mineral-cobalt)] to-[var(--mineral-malachite)]",
    purpose: "Backend technical infrastructure support and complex troubleshooting",
    responsibilities: [
      "Network and connectivity issues",
      "Hardware problems and repairs",
      "System errors and crashes",
      "Security incidents and breaches",
      "Database and API issues",
      "System integration problems",
      "Performance and scalability",
      "Vendor escalations",
      "Infrastructure maintenance"
    ],
    team: [
      "2-4 IT support specialists",
      "1 IT manager",
      "1 network administrator",
      "Security team (shared/consultative)",
      "24/7 on-call for critical issues"
    ]
  }
];

// User journey stages
const userJourneyStages = [
  { step: "1. Discover", description: "Portal search, browse KB articles" },
  { step: "2. Engage", description: "AI chat, read articles" },
  { step: "3. Resolve", description: "EdTech or IT Ops solution" },
  { step: "4. Feedback", description: "Survey, rating, comments" }
];

// Routing matrix rows
const routingRows = [
  { category: "Authentication & Access", keywords: "login, password, forgot password, locked out", routeTo: "EdTech", priority: "Medium" },
  { category: "Platform Navigation", keywords: "how do I, where is, can't find, tutorial", routeTo: "EdTech", priority: "Low" },
  { category: "Network/Connectivity", keywords: "can't connect, internet down, wifi, network error", routeTo: "IT Ops", priority: "High" },
  { category: "Hardware Issues", keywords: "device broken, screen, keyboard, chromebook", routeTo: "IT Ops", priority: "High" },
  { category: "System Error/Crash", keywords: "error message, crashed, frozen, won't load", routeTo: "IT Ops", priority: "Critical" },
  { category: "Security Concerns", keywords: "hacked, suspicious, data breach, unauthorized", routeTo: "IT Ops", priority: "Critical" }
];

// Auto-escalation rules
const escalationRules = [
  { icon: AlertCircle, title: "System-Wide Issues", description: "If 5+ users report same issue in 1 hour → Escalate to High/Critical" },
  { icon: Target, title: "Teacher During Class", description: "Teacher blocked during school hours → Escalate to High" },
  { icon: Clock, title: "Testing Deadlines", description: "Assessment issue with <2 days until test → Escalate to High" },
  { icon: AlertCircle, title: "SLA Risk", description: "Ticket age >150% of SLA time → Auto-escalate priority" }
];

// Response time SLAs
const responseTimeSLAs = [
  { priority: "Critical", tier0: "Instant", tier1: "15 minutes", tier2: "30 minutes" },
  { priority: "High", tier0: "Instant", tier1: "2 hours", tier2: "4 hours" },
  { priority: "Medium", tier0: "Instant", tier1: "4 hours", tier2: "8 hours" },
  { priority: "Low", tier0: "Instant", tier1: "1 business day", tier2: "2 business days" }
];

// Resolution time SLAs
const resolutionTimeSLAs = [
  { priority: "Critical", tier1: "1 hour", tier2: "4 hours" },
  { priority: "High", tier1: "8 hours", tier2: "1 business day" },
  { priority: "Medium", tier1: "2 business days", tier2: "3 business days" },
  { priority: "Low", tier1: "5 business days", tier2: "5 business days" }
];

// Service Level Objectives
const sloCards = [
  { value: "≥95%", label: "Response SLA Compliance" },
  { value: "≥90%", label: "Resolution SLA Compliance" },
  { value: "≥4.5/5.0", label: "Customer Satisfaction" },
  { value: "≥40%", label: "AI Resolution Rate" },
  { value: "≥70%", label: "EdTech First-Contact Resolution" },
  { value: "≤20%", label: "Escalation Rate" }
];

// Tier 0 fields
const tier0RequiredFields = [
  "ticket_id (auto-generated UUID)",
  "user_id, user_email, user_name",
  "user_type (Teacher/Student/Parent)",
  "school_site, grade_level",
  "issue_summary, issue_description",
  "timestamp_created"
];

const tier0AutoCaptured = [
  "chat_transcript (full AI conversation)",
  "articles_viewed, articles_helpful",
  "ai_suggested_category",
  "ai_confidence_score (0-1)",
  "sentiment_score (1-10)",
  "browser_info, device_type",
  "ip_address"
];

// Tier 1 fields
const tier1EdTechFields = [
  "assigned_agent, priority",
  "category, subcategory",
  "platform_area, affected_feature",
  "screenshots, screen_recording",
  "attempted_solutions",
  "workaround_provided",
  "knowledge_bank_article",
  "resolution_notes",
  "user_satisfaction (1-5 stars)"
];

const tier1Categories = [
  { category: "Account", options: "Password Reset, Username Issues, Access Permissions" },
  { category: "Training", options: "Platform Navigation, Feature Tutorial, Onboarding" },
  { category: "Content", options: "Assignments, Grades, Curriculum Materials" },
  { category: "Feature", options: "Enhancement Request, Bug Report, Integration" },
  { category: "Communication", options: "Messaging, Notifications, Announcements" }
];

// Tier 2 fields
const tier2TechnicalFields = [
  "incident_type, affected_systems",
  "impact_scope (Single/Multiple/School-wide)",
  "service_outage (true/false)",
  "root_cause, root_cause_category",
  "technical_details, error_code",
  "log_files, diagnostic_results",
  "asset_tag, asset_location",
  "vendor_ticket_id, vendor_name"
];

const tier2SecurityFields = [
  "security_incident (true/false)",
  "security_team_notified",
  "incident_report_id",
  "data_breach (true/false)",
  "affected_data_types",
  "compliance_notification_required",
  "post_incident_review (true/false)"
];

// Implementation phases
const implementationPhases = [
  {
    title: "Phase 1: Foundation",
    duration: "4 weeks",
    weeks: [
      {
        title: "Week 1: Planning & Requirements",
        tasks: [
          "Assemble implementation team",
          "Review framework with stakeholders",
          "Document existing support volume",
          "Set baseline metrics",
          "Create project timeline"
        ]
      },
      {
        title: "Week 2: Knowledge Bank Development",
        tasks: [
          "Audit existing documentation",
          "Create knowledge bank structure",
          "Write initial 50 articles",
          "Create article authoring process"
        ]
      },
      {
        title: "Week 3: AI Chatbot Setup",
        tasks: [
          "Select AI chatbot platform",
          "Configure and train chatbot",
          "Test internally (50+ scenarios)",
          "Integrate with portal"
        ]
      },
      {
        title: "Week 4: Ticketing System Configuration",
        tasks: [
          "Select ticketing system",
          "Configure ticket fields",
          "Set up automation rules",
          "Configure SLA monitoring",
          "Build dashboards"
        ]
      }
    ]
  },
  {
    title: "Phase 2: Integration & Training",
    duration: "4 weeks",
    weeks: [
      {
        title: "Week 5: System Integration",
        tasks: [
          "Connect AI chatbot to ticketing",
          "Integrate EdTech and IT Ops systems",
          "Set up SSO authentication",
          "Configure email and SMS",
          "Integrate with SIS/LMS"
        ]
      },
      {
        title: "Week 6-7: Team Training",
        tasks: [
          "Conduct EdTech team training (2-day intensive)",
          "Create quick reference guides",
          "Conduct IT Ops training (1-day)",
          "Review escalation process"
        ]
      },
      {
        title: "Week 8: Pilot Testing",
        tasks: [
          "Select pilot group (50-100 users)",
          "Launch soft pilot",
          "Monitor pilot metrics",
          "Gather feedback and iterate"
        ]
      }
    ]
  },
  {
    title: "Phase 3: Launch & Optimization",
    duration: "4 weeks",
    weeks: [
      {
        title: "Week 9: Launch Preparation",
        tasks: [
          "Create launch communication plan",
          "Prepare team for increased volume",
          "Final system testing",
          "Set up monitoring and alerting"
        ]
      },
      {
        title: "Week 10: Launch Week",
        tasks: [
          "Monday: Soft launch",
          "Tuesday-Thursday: Monitor & adjust",
          "Friday: Week 1 review"
        ]
      },
      {
        title: "Week 11-12: Optimization & Review",
        tasks: [
          "Analyze data and trends",
          "Expand knowledge bank",
          "Refine AI training",
          "Conduct 30-day review",
          "Plan continuous improvement"
        ]
      }
    ]
  },
  {
    title: "Phase 4: Continuous Improvement",
    duration: "Monthly/Quarterly",
    weeks: [
      {
        title: "Monthly Activities",
        tasks: [
          "Metrics review and analysis",
          "Knowledge bank maintenance",
          "AI training updates",
          "Team development sessions"
        ]
      },
      {
        title: "Quarterly Activities",
        tasks: [
          "Comprehensive system audit",
          "User satisfaction survey",
          "SLA review and adjustment",
          "Stakeholder presentation"
        ]
      },
      {
        title: "Annual Activities",
        tasks: [
          "Full process audit",
          "Industry benchmarking",
          "Technology refresh evaluation",
          "3-year strategic planning"
        ]
      }
    ]
  }
];

// Budget items
const budgetItems = [
  { title: "Initial Setup (Year 1)", amount: "$15,000 - $35,000", description: "Ticketing system, AI chatbot, knowledge bank, training" },
  { title: "Annual Operating Cost", amount: "$50,000 - $120,000", description: "Staff salaries, software licenses, on-call compensation" }
];
---

<BaseLayout
  title="K-12 Support Process Framework"
  description="Complete three-tier support system for K-12 Digital Campus: AI-powered self-service, EdTech customer success, and IT Operations. Comprehensive ticketing, routing, and SLA management for teachers, students, and parents."
  keywords="K-12 support system, educational technology support, three-tier support, AI chatbot education, EdTech support, IT operations education, ticket management, SLA framework, customer success education"
>
  <div class="max-w-[1200px] mx-auto px-4 sm:px-6 py-6 sm:py-8">
    <PageBreadcrumb items={[
      { label: "Frameworks", href: "/frameworks" },
      { label: "K-12 Support Process" }
    ]} />

    <!-- Framework Header -->
    <div class="relative text-center py-10 sm:py-12 md:py-16 px-4 sm:px-6 md:px-8 bg-gradient-to-br from-[var(--bg-surface)]/90 to-[var(--bg)]/95 text-[var(--text)] rounded-xl md:rounded-2xl mb-8 sm:mb-10 md:mb-12 overflow-hidden">
      <h1 class="text-[clamp(1.5rem,4vw,3rem)] font-extrabold font-serif mb-3 sm:mb-4 relative z-10">K-12 Digital Campus Support Process Framework</h1>
      <p class="text-[clamp(1rem,2.5vw,1.5rem)] opacity-95 mb-3 sm:mb-4 relative z-10">Complete three-tier support system documentation</p>
      <div class="flex gap-2 justify-center text-xs sm:text-sm opacity-80 mb-6 sm:mb-8 relative z-10 flex-wrap">
        <span>Version 1.0</span>
        <span>•</span>
        <span>October 2025</span>
        <span>•</span>
        <span>Nyuchi Learning</span>
      </div>
      <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mt-6 sm:mt-8 relative z-10">
        <a href="#overview" class="inline-flex items-center justify-center gap-2 h-12 px-6 sm:px-8 rounded-xl font-semibold transition-all duration-200 bg-transparent text-[var(--text)] border-2 border-[var(--text-secondary)] hover:bg-[var(--bg-surface)] hover:border-[var(--primary)] hover:text-[var(--primary)] w-full sm:w-auto">Read Online</a>
        <a href="/frameworks/k12-support-process-framework.pdf" download class="inline-flex items-center justify-center gap-2 h-12 px-6 sm:px-8 rounded-xl font-semibold transition-all duration-200 bg-[var(--bg-surface)] text-[var(--primary)] hover:-translate-y-0.5 hover:shadow-lg w-full sm:w-auto">
          <Download size={20} /> Download PDF
        </a>
      </div>
      <p class="mt-4 sm:mt-6 text-xs sm:text-sm opacity-90 relative z-10">Free to use, copy, adapt, and share under open framework license</p>
    </div>

    <!-- Quick Navigation -->
    <nav class="bg-[var(--bg-surface)] p-4 sm:p-6 md:p-8 rounded-xl mb-8 sm:mb-10 md:mb-12 border border-[var(--border)]">
      <h3 class="text-[var(--primary)] text-lg sm:text-xl font-bold mb-3 sm:mb-4">Quick Navigation</h3>
      <ul class="list-none p-0 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3">
        {navItems.map((item) => (
          <li>
            <a href={item.href} class="block py-2.5 sm:py-3 px-3 sm:px-4 bg-[var(--bg)] rounded-lg text-sm sm:text-base text-[var(--text)] no-underline transition-all duration-200 hover:bg-[var(--primary)] hover:text-white hover:translate-x-1">{item.label}</a>
          </li>
        ))}
      </ul>
    </nav>

    <!-- Executive Summary -->
    <section id="overview" class="bg-[var(--bg-surface)] p-4 sm:p-6 md:p-8 rounded-xl mb-6 sm:mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-xl sm:text-2xl font-bold mb-4 sm:mb-6 pb-2 border-b-[3px] border-[var(--primary)]">Executive Summary</h2>
      <p class="text-base sm:text-lg leading-relaxed text-[var(--text)] mb-6 sm:mb-8">
        This document defines the comprehensive support process for teachers, students, and parents in the K-12 Digital Campus ecosystem.
        The three-tier support model ensures efficient issue resolution while optimizing resource allocation.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 md:gap-8 mb-6 sm:mb-8">
        {summaryCards.map((card) => (
          <div class="bg-[var(--bg)] p-5 sm:p-6 md:p-8 rounded-xl text-center border-2 border-[var(--primary)]">
            <card.icon class="text-[var(--primary)] mx-auto mb-3 sm:mb-4 w-10 h-10 sm:w-12 sm:h-12" strokeWidth={1.5} />
            <h3 class="text-[var(--primary)] text-lg sm:text-xl font-bold mb-2">{card.title}</h3>
            <p class="text-sm sm:text-base text-[var(--text-secondary)] mb-3 sm:mb-4">{card.description}</p>
            <div class="text-2xl sm:text-3xl font-extrabold text-[var(--primary)]">{card.stat}</div>
          </div>
        ))}
      </div>

      <div class="bg-[var(--bg)] p-4 sm:p-6 md:p-8 rounded-xl">
        <h3 class="text-[var(--primary)] text-lg sm:text-xl font-bold mb-3 sm:mb-4">Key Metrics Goals</h3>
        <ul class="list-none p-0 space-y-0">
          {kpiMetrics.map((metric) => (
            <li class="flex items-center gap-2 sm:gap-3 py-2.5 sm:py-3 border-b border-[var(--border)] last:border-b-0 text-sm sm:text-base md:text-lg">
              <Check class="text-[var(--primary)] flex-shrink-0 w-4 h-4 sm:w-5 sm:h-5" strokeWidth={2} />
              <span class="text-[var(--text)]">{metric}</span>
            </li>
          ))}
        </ul>
      </div>
    </section>

    <!-- Framework Governance -->
    <section id="governance" class="bg-gradient-to-br from-[var(--bg-surface)] to-[var(--bg)] p-8 rounded-xl mb-8 border-2 border-[var(--primary)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">How This Framework Embodies Our Principles</h2>
      <p class="text-lg text-[var(--text)] mb-10 leading-relaxed">All Nyuchi Learning frameworks adhere to core governance principles that ensure they deliver maximum value for schools across Africa and the developing world. Here's how this K-12 Support Process Framework embodies each principle:</p>

      <div class="grid gap-6 mb-12">
        {governancePrinciples.map((principle) => (
          <div class="flex flex-col md:flex-row gap-6 bg-[var(--bg-surface)] p-8 rounded-xl shadow-sm transition-all duration-300 hover:-translate-y-0.5 hover:shadow-md">
            <div class="font-serif text-4xl font-bold text-[var(--primary)] flex-shrink-0 w-16 leading-tight">{principle.number}</div>
            <div>
              <h3 class="text-[var(--primary)] text-xl font-bold mb-4 mt-0">{principle.title}</h3>
              <p class="text-[var(--text)] leading-relaxed mb-3"><strong>How this framework delivers:</strong> {principle.description}</p>
              <p class="text-[var(--text-secondary)] text-sm p-4 bg-[var(--bg)] rounded-xl border-2 border-[var(--primary)] mt-4"><em>Example:</em> {principle.example}</p>
            </div>
          </div>
        ))}
      </div>

      <div class="bg-[var(--bg-surface)] p-10 rounded-xl text-center shadow-sm">
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4 mt-0">Part of a Broader Mission</h3>
        <p class="text-lg leading-relaxed text-[var(--text)] mb-6">This framework is one of multiple frameworks released by <strong>Nyuchi Learning</strong>, a division of Nyuchi Africa committed to empowering developing countries to leapfrog traditional educational models. Learn more about our mission, vision, and strategic goals.</p>
        <a href="/about" class="inline-flex items-center gap-2 py-3 px-8 rounded-full font-semibold transition-all duration-200 bg-[var(--primary)] text-white hover:-translate-y-0.5 hover:shadow-lg hover:brightness-110">Read Our Mission & Impact</a>
      </div>
    </section>

    <!-- Support Tier Overview -->
    <section id="tiers" class="bg-[var(--bg-surface)] p-8 rounded-xl mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">Support Tier Overview</h2>

      {tierDetails.map((tier, index) => (
        <div class="mb-12 last:mb-0 border-2 border-[var(--border)] rounded-xl overflow-hidden">
          <div class={`flex items-center gap-4 p-6 text-white ${tier.gradientClass}`}>
            <tier.icon size={32} strokeWidth={1.5} />
            <h3 class="text-2xl font-bold m-0">{tier.title}</h3>
          </div>
          <div class="p-8">
            <div class="mb-6">
              <h4 class="text-[var(--primary)] text-lg font-bold mb-2">Purpose</h4>
              <p class="text-[var(--text)]">{tier.purpose}</p>
            </div>

            {tier.capabilities && (
              <div class="mb-6">
                <h4 class="text-[var(--primary)] text-lg font-bold mb-2">Capabilities</h4>
                <ul class="list-disc ml-6 text-[var(--text)] space-y-1">
                  {tier.capabilities.map((cap) => <li>{cap}</li>)}
                </ul>
              </div>
            )}

            {tier.metrics && (
              <div class="mb-6">
                <h4 class="text-[var(--primary)] text-lg font-bold mb-2">Success Criteria</h4>
                <ul class="list-disc ml-6 text-[var(--text)] space-y-1">
                  {tier.metrics.map((metric) => <li>{metric}</li>)}
                </ul>
              </div>
            )}

            {tier.inScope && tier.outOfScope && (
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-6">
                <div>
                  <h4 class="text-[var(--primary)] text-lg font-bold mb-2">Scope of Responsibility ✅</h4>
                  <ul class="list-disc ml-6 text-[var(--text)] space-y-1">
                    {tier.inScope.map((item) => <li>{item}</li>)}
                  </ul>
                </div>
                <div>
                  <h4 class="text-[var(--primary)] text-lg font-bold mb-2">Out of Scope ❌</h4>
                  <ul class="list-disc ml-6 text-[var(--text)] space-y-1">
                    {tier.outOfScope.map((item) => <li>{item}</li>)}
                  </ul>
                </div>
              </div>
            )}

            {tier.responsibilities && (
              <div class="mb-6">
                <h4 class="text-[var(--primary)] text-lg font-bold mb-2">Scope of Responsibility</h4>
                <ul class="list-disc ml-6 text-[var(--text)] space-y-1">
                  {tier.responsibilities.map((item) => <li>{item}</li>)}
                </ul>
              </div>
            )}

            {tier.team && (
              <div>
                <h4 class="text-[var(--primary)] text-lg font-bold mb-2">Team Composition</h4>
                <ul class="list-disc ml-6 text-[var(--text)] space-y-1">
                  {tier.team.map((member) => <li>{member}</li>)}
                </ul>
              </div>
            )}
          </div>
        </div>
      ))}
    </section>

    <!-- Process Flow Diagrams -->
    <section id="process-flows" class="bg-[var(--bg-surface)] p-8 rounded-xl mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">Process Flow Diagrams</h2>

      <div class="mb-8">
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">High-Level Support Flow</h3>
        <div class="bg-[var(--bg)] text-[var(--text-secondary)] p-8 rounded-xl overflow-x-auto">
          <pre class="font-mono text-sm leading-relaxed whitespace-pre m-0">
User Access Support Portal
          ↓
    ┌─────────────┐
    │ TIER 0: AI  │
    │  Chatbot    │
    └──────┬──────┘
           │
    ┌──────┴──────┐
    │  Resolved?   │
    └──┬────────┬──┘
      YES      NO
       │        │
       │        ▼
       │   Smart Routing
       │        │
       │   ┌────┴────┐
       │   │         │
       │   ▼         ▼
       │ Tier 1    Tier 2
       │ EdTech    IT Ops
       │   │         │
       │   └────┬────┘
       │        │
       └────────┘
            │
            ▼
       Resolution
          </pre>
        </div>
      </div>

      <div>
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">User Journey Stages</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          {userJourneyStages.map((stage) => (
            <div class="bg-[var(--bg)] p-6 rounded-xl text-center">
              <h4 class="text-[var(--primary)] text-lg font-bold mb-2">{stage.step}</h4>
              <p class="text-[var(--text-secondary)] m-0">{stage.description}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Routing Criteria -->
    <section id="routing" class="bg-[var(--bg-surface)] p-8 rounded-xl mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">Routing Criteria & Decision Trees</h2>

      <div class="mb-8">
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">Initial Classification Matrix</h3>
        <div class="overflow-x-auto">
          <table class="w-full border-collapse text-sm min-w-[600px]">
            <thead class="bg-[var(--bg)]">
              <tr>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Issue Category</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Keywords/Indicators</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Route To</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Priority</th>
              </tr>
            </thead>
            <tbody>
              {routingRows.map((row) => (
                <tr class="hover:bg-[var(--bg)] transition-colors">
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.category}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text-secondary)]">{row.keywords}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.routeTo}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.priority}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      <div>
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">Auto-Escalation Rules</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          {escalationRules.map((rule) => (
            <div class="bg-[var(--bg)] p-6 rounded-xl border-2 border-[var(--primary)]">
              <rule.icon class="text-[var(--primary)] mb-3" size={24} strokeWidth={2} />
              <h4 class="text-[var(--primary)] text-lg font-bold mb-2">{rule.title}</h4>
              <p class="text-[var(--text)] m-0">{rule.description}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- SLA Recommendations -->
    <section id="sla" class="bg-[var(--bg-surface)] p-8 rounded-xl mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">SLA Recommendations</h2>

      <div class="mb-8">
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">Response Time SLAs</h3>
        <div class="overflow-x-auto">
          <table class="w-full border-collapse text-sm min-w-[600px]">
            <thead class="bg-[var(--bg)]">
              <tr>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Priority Level</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Tier 0 (AI)</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Tier 1 (EdTech)</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Tier 2 (IT Ops)</th>
              </tr>
            </thead>
            <tbody>
              {responseTimeSLAs.map((row) => (
                <tr class="hover:bg-[var(--bg)] transition-colors">
                  <td class="p-4 border-b border-[var(--border)] font-semibold text-[var(--text)]">{row.priority}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.tier0}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.tier1}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.tier2}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      <div class="mb-8">
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">Resolution Time SLAs</h3>
        <div class="overflow-x-auto">
          <table class="w-full border-collapse text-sm min-w-[600px]">
            <thead class="bg-[var(--bg)]">
              <tr>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Priority Level</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Tier 1 (EdTech)</th>
                <th class="p-4 text-left font-semibold text-[var(--primary)] border-b-2 border-[var(--primary)]">Tier 2 (IT Ops)</th>
              </tr>
            </thead>
            <tbody>
              {resolutionTimeSLAs.map((row) => (
                <tr class="hover:bg-[var(--bg)] transition-colors">
                  <td class="p-4 border-b border-[var(--border)] font-semibold text-[var(--text)]">{row.priority}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.tier1}</td>
                  <td class="p-4 border-b border-[var(--border)] text-[var(--text)]">{row.tier2}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      <div>
        <h3 class="text-[var(--primary)] text-lg sm:text-xl font-bold mb-3 sm:mb-4">Service Level Objectives (SLOs)</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 md:gap-6">
          {sloCards.map((slo) => (
            <div class="bg-[var(--bg)] p-4 sm:p-5 md:p-6 rounded-xl text-center">
              <div class="text-2xl sm:text-3xl font-extrabold text-[var(--primary)] mb-1 sm:mb-2">{slo.value}</div>
              <div class="text-[var(--text-secondary)] text-xs sm:text-sm">{slo.label}</div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Ticket Field Requirements -->
    <section id="ticket-fields" class="bg-[var(--bg-surface)] p-8 rounded-xl mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">Ticket Field Requirements</h2>

      <div class="mb-8">
        <h3 class="text-[var(--primary)] text-xl font-bold mb-2">Tier 0: AI Chat Bot - Initial Capture</h3>
        <p class="text-[var(--text-secondary)] mb-4">These fields are automatically collected when a user interacts with the AI chatbot:</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="bg-[var(--bg)] p-6 rounded-xl">
            <h4 class="text-[var(--primary)] text-lg font-bold mb-4 mt-0">Required Fields</h4>
            <ul class="list-none p-0 space-y-0">
              {tier0RequiredFields.map((field) => (
                <li class="py-2 border-b border-[var(--border)] last:border-b-0 text-[var(--text)] text-sm">{field}</li>
              ))}
            </ul>
          </div>
          <div class="bg-[var(--bg)] p-6 rounded-xl">
            <h4 class="text-[var(--primary)] text-lg font-bold mb-4 mt-0">Auto-Captured Data</h4>
            <ul class="list-none p-0 space-y-0">
              {tier0AutoCaptured.map((field) => (
                <li class="py-2 border-b border-[var(--border)] last:border-b-0 text-[var(--text)] text-sm">{field}</li>
              ))}
            </ul>
          </div>
        </div>
      </div>

      <div class="mb-8">
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">Tier 1: EdTech Team - Enhanced Fields</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="bg-[var(--bg)] p-6 rounded-xl">
            <h4 class="text-[var(--primary)] text-lg font-bold mb-4 mt-0">EdTech-Specific Fields</h4>
            <ul class="list-none p-0 space-y-0">
              {tier1EdTechFields.map((field) => (
                <li class="py-2 border-b border-[var(--border)] last:border-b-0 text-[var(--text)] text-sm">{field}</li>
              ))}
            </ul>
          </div>
          <div class="bg-[var(--bg)] p-6 rounded-xl">
            <h4 class="text-[var(--primary)] text-lg font-bold mb-4 mt-0">Category Options</h4>
            <ul class="list-none p-0 space-y-0">
              {tier1Categories.map((cat) => (
                <li class="py-2 border-b border-[var(--border)] last:border-b-0 text-[var(--text)] text-sm">
                  <strong class="text-[var(--primary)]">{cat.category}:</strong> {cat.options}
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>

      <div>
        <h3 class="text-[var(--primary)] text-xl font-bold mb-4">Tier 2: IT Ops - Comprehensive Fields</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="bg-[var(--bg)] p-6 rounded-xl">
            <h4 class="text-[var(--primary)] text-lg font-bold mb-4 mt-0">Technical Fields</h4>
            <ul class="list-none p-0 space-y-0">
              {tier2TechnicalFields.map((field) => (
                <li class="py-2 border-b border-[var(--border)] last:border-b-0 text-[var(--text)] text-sm">{field}</li>
              ))}
            </ul>
          </div>
          <div class="bg-[var(--bg)] p-6 rounded-xl">
            <h4 class="text-[var(--primary)] text-lg font-bold mb-4 mt-0">Security & Compliance</h4>
            <ul class="list-none p-0 space-y-0">
              {tier2SecurityFields.map((field) => (
                <li class="py-2 border-b border-[var(--border)] last:border-b-0 text-[var(--text)] text-sm">{field}</li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Implementation Checklist -->
    <section id="implementation" class="bg-[var(--bg-surface)] p-8 rounded-xl mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">Implementation Checklist</h2>

      <div class="grid gap-8">
        {implementationPhases.map((phase) => (
          <div class="border-2 border-[var(--border)] rounded-xl overflow-hidden">
            <div class="flex justify-between items-center p-6 bg-[var(--primary)] text-white">
              <h3 class="text-xl font-bold m-0">{phase.title}</h3>
              <span class="bg-white/20 py-2 px-4 rounded-full text-sm">{phase.duration}</span>
            </div>
            <div class="p-8">
              {phase.weeks.map((week) => (
                <div class="mb-6 last:mb-0">
                  <h4 class="text-[var(--primary)] text-lg font-bold mb-3">{week.title}</h4>
                  <ul class="list-disc ml-6 text-[var(--text)] space-y-2">
                    {week.tasks.map((task) => <li>{task}</li>)}
                  </ul>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- Implementation Budget -->
    <section class="bg-[var(--bg-surface)] p-8 rounded-xl mb-8 border border-[var(--border)]">
      <h2 class="text-[var(--primary)] text-2xl font-bold mb-6 pb-2 border-b-[3px] border-[var(--primary)]">Implementation Budget</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-6">
        {budgetItems.map((item) => (
          <div class="flex gap-6 bg-[var(--bg)] p-8 rounded-xl items-start">
            <DollarSign class="text-[var(--primary)] flex-shrink-0" size={32} strokeWidth={1.5} />
            <div>
              <h3 class="text-[var(--text)] text-xl font-bold mb-2">{item.title}</h3>
              <div class="text-3xl font-extrabold text-[var(--primary)] mb-2">{item.amount}</div>
              <p class="text-[var(--text-secondary)] m-0">{item.description}</p>
            </div>
          </div>
        ))}
      </div>
      <div class="bg-[var(--bg)] p-6 border-2 border-[var(--primary)] rounded-lg">
        <strong class="text-[var(--text)]">Note:</strong> <span class="text-[var(--text-secondary)]">Costs vary significantly based on school size, existing systems, and staffing decisions. See full breakdown in downloadable PDF.</span>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="text-center py-10 sm:py-12 md:py-16 px-4 sm:px-6 md:px-8 bg-[var(--bg)] text-[var(--text)] rounded-xl">
      <h2 class="text-[clamp(1.5rem,4vw,2.5rem)] font-bold mb-3 sm:mb-4">Ready to Implement?</h2>
      <p class="text-base sm:text-lg md:text-xl mb-6 sm:mb-8 opacity-95">Download the complete support framework with detailed decision trees, sample templates, and implementation guides.</p>
      <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-4 sm:mb-6">
        <a href="/frameworks/k12-support-process-framework.pdf" download class="inline-flex items-center justify-center gap-2 h-12 sm:h-14 px-6 sm:px-8 rounded-xl font-semibold transition-all duration-200 bg-[var(--bg-surface)] text-[var(--primary)] hover:-translate-y-0.5 hover:shadow-lg w-full sm:w-auto text-sm sm:text-base">
          <Download size={20} /> Download Complete Framework (PDF)
        </a>
        <a href="/pricing" class="inline-flex items-center justify-center gap-2 h-12 sm:h-14 px-6 sm:px-8 rounded-xl font-semibold transition-all duration-200 bg-transparent text-[var(--text)] border-2 border-[var(--text-secondary)] hover:bg-[var(--bg-surface)] hover:border-[var(--primary)] hover:text-[var(--primary)] w-full sm:w-auto text-sm sm:text-base">Budget Planning Guide</a>
      </div>
      <p class="text-xs sm:text-sm opacity-80">Free to use, copy, adapt, and share • Created by Nyuchi Learning</p>
    </section>
  </div>
</BaseLayout>
